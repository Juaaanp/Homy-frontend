
<div class="min-h-screen bg-white">
    <app-header></app-header>

    <main class="register-container">
        <div class="register-card">
            <div class="card-header">
                        <h1 class="card-title">Create your account</h1>
                        <p class="card-subtitle">
                            Join our platform to discover unique stays or become a host.
                        </p>
            </div>

            <form class="register-form" (ngSubmit)="onSubmit($event)">
                <!-- Personal data -->
                <div class="form-grid">
                    <label class="form-field">
                        <span class="field-label">
                            <lucide-icon name="user" class="field-icon"></lucide-icon>
                            Full name
                        </span>
                            <input
                                [(ngModel)]="fullName"
                                name="fullName"
                                placeholder="John Smith"
                                class="field-input"
                                [disabled]="loading"
                            />
                    </label>
                    <label class="form-field">
                        <span class="field-label">
                            <lucide-icon name="mail" class="field-icon"></lucide-icon>
                            Email
                        </span>
                        <input
                            type="email"
                            [(ngModel)]="email"
                            name="email"
                            placeholder="john@email.com"
                            class="field-input"
                            [disabled]="loading"
                        />
                    </label>
                    <label class="form-field">
                        <span class="field-label">
                            <lucide-icon name="phone" class="field-icon"></lucide-icon>
                            Phone
                        </span>
                        <input
                            [(ngModel)]="phone"
                            name="phone"
                            placeholder="+1 555 123 4567"
                            class="field-input"
                            [disabled]="loading"
                        />
                    </label>
                    <label class="form-field">
                        <span class="field-label">
                            <lucide-icon name="calendar" class="field-icon"></lucide-icon>
                            Birthdate
                        </span>
                        <input
                            type="date"
                            [(ngModel)]="birthdate"
                            name="birthdate"
                            class="field-input"
                            [disabled]="loading"
                        />
                    </label>
                </div>

                <!-- Passwords -->
                <div class="form-grid">
                    <label class="form-field">
                        <span class="field-label">
                            <lucide-icon name="lock" class="field-icon"></lucide-icon>
                            Password
                        </span>
                        <div class="password-input-wrapper">
                            <input
                                [type]="showPw ? 'text' : 'password'"
                                [(ngModel)]="password"
                                name="password"
                                placeholder="At least 8 characters, 1 uppercase and 1 number"
                                class="field-input password-input"
                                [disabled]="loading"
                            />
                            <button
                                type="button"
                                (click)="togglePasswordVisibility()"
                                class="password-toggle-btn"
                                [disabled]="loading"
                            >
                                <lucide-icon [name]="showPw ? 'eye-off' : 'eye'" class="toggle-icon"></lucide-icon>
                            </button>
                        </div>
                    </label>
                    <label class="form-field">
                        <span class="field-label">Confirm password</span>
                        <div class="password-input-wrapper">
                            <input
                                [type]="showPw2 ? 'text' : 'password'"
                                [(ngModel)]="password2"
                                name="password2"
                                placeholder="Repeat your password"
                                class="field-input password-input"
                                [disabled]="loading"
                            />
                            <button
                                type="button"
                                (click)="togglePassword2Visibility()"
                                class="password-toggle-btn"
                                [disabled]="loading"
                            >
                                <lucide-icon [name]="showPw2 ? 'eye-off' : 'eye'" class="toggle-icon"></lucide-icon>
                            </button>
                        </div>
                    </label>
                </div>

                <!-- Role -->
                <label class="form-field">
                    <span class="field-label">
                        <lucide-icon name="user-cog" class="field-icon"></lucide-icon>
                        Account role
                    </span>
                    <select
                        [(ngModel)]="role"
                        name="role"
                        class="field-input"
                        [disabled]="loading"
                    >
                        <option value="GUEST">User</option>
                        <option value="HOST">Host</option>
                    </select>
                </label>

                <!-- Checkbox -->
                <label class="remember-checkbox">
                    <input
                        type="checkbox"
                        [(ngModel)]="agree"
                        name="agree"
                        class="checkbox-input"
                        [disabled]="loading"
                    />
                    <span class="checkbox-label">
                        I accept the <a class="underline">Terms</a> and <a class="underline">Privacy Policy</a>.
                    </span>
                </label>

                <!-- Messages -->
                <div *ngIf="error" class="error-message">
                    <lucide-icon name="shield-check" class="error-icon"></lucide-icon>
                    <span>{{ error }}</span>
                </div>
                <div *ngIf="success" class="success-message">
                    {{ success }}
                </div>

                <!-- Buttons -->
                <div class="form-footer-row">
                    <div class="footer-login-link">
                        Already have an account?
                        <button
                            type="button"
                            class="register-link"
                            (click)="navigateToLogin()"
                            [disabled]="loading"
                        >
                            Sign in
                        </button>
                    </div>
                    <div class="footer-create-btn">
                        <app-button
                            type="submit"
                            [disabled]="loading"
                            size="lg"
                        >
                            Create account
                        </app-button>
                    </div>
                </div>
            </form>
        </div>
    </main>

    <app-footer></app-footer>
</div>