<div class="min-h-screen bg-white">
  <app-header></app-header>

  <main class="ml-container">
    <div class="ml-header">
      <div>
        <h1 class="ml-title">My Listings</h1>
        <p class="ml-subtitle">Manage your properties</p>
      </div>
      <button class="btn-create" (click)="createNewListing()">
        â• Create New Listing
      </button>
    </div>

    <!-- Loading -->
    <div *ngIf="loading()" class="loading-state">
      <p>â³ Loading your listings...</p>
    </div>

    <!-- Empty State -->
    <div *ngIf="!loading() && listings().length === 0" class="empty-state">
      <h3>ğŸ  No listings yet</h3>
      <p>Start earning by listing your property on Homy</p>
      <button class="btn-create" (click)="createNewListing()">
        â• Create Your First Listing
      </button>
    </div>

    <!-- Listings Grid -->
    <div *ngIf="!loading() && listings().length > 0" class="ml-grid">
      <div *ngFor="let listing of listings()" class="ml-card">
        <div class="ml-image">
          <img 
            [src]="listing.principalImage || 'https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800'" 
            [alt]="listing.title" 
          />
          <div class="ml-badge">Active</div>
        </div>
        
        <div class="ml-content">
          <h3 class="ml-listing-title">{{ listing.title }}</h3>
          <div class="ml-location">
            ğŸ“ {{ listing.city }}{{ listing.address ? ', ' + listing.address : '' }}
          </div>
          
          <div class="ml-details">
            <div class="ml-detail">
              ğŸ‘¥ {{ listing.maxCapacity || 'N/A' }} guests
            </div>
            <div class="ml-detail">
              ğŸ’µ ${{ listing.nightPrice }}/night
            </div>
          </div>

          <div class="ml-actions">
            <button 
              class="btn-action btn-view" 
              (click)="viewListing(listing.id)">
              ğŸ‘ï¸ View
            </button>
            <button 
              class="btn-action btn-edit" 
              (click)="editListing(listing.id)">
              âœï¸ Edit
            </button>
            <button 
              class="btn-action btn-delete" 
              (click)="deleteListing(listing.id, listing.title)">
              ğŸ—‘ï¸ Delete
            </button>
          </div>
        </div>
      </div>
    </div>
  </main>

  <app-footer></app-footer>
</div>
